<resources>
    <string name="app_name">R423_reader</string>
    <string name="increase_text_string">Increase text</string>
    <string name="decrease_text_string">Decrease text</string>
    <string name="contents_string">Contents</string>
    <string name="books_string">Books</string>
    <string name="title_activity_books">BooksActivity</string>
    <string name="action_settings">Settings</string>
    <string name="error_title">Error</string>
    <string name="error_message_no_chapters_generated">Can\'t build contents list for this document</string>
    <string name="js_scripts" translatable="false">
        function scrollToElement(id) {
            var elem = document.getElementById(id);
            console.log(elem);
            elem.scrollIntoView(true);
        }

        function getChapters() {
        let resultArr = [];
        let idsArr = [];

        let hArr = getChaptersTags();
        if (hArr === null || hArr.length === 0) return ;

        let retText = "";
        let size = hArr.length;
        for (let i=0; i &lt; size; i++) {
        if (!isNaN(+hArr[i].innerText.substr(0,1))) {
        if (retText !== "") {
        resultArr.push(retText);
        retText = "";
        }
        let id = generateId();
        hArr[i].setAttribute("id", id);
        hArr[i].style.backgroundColor = "red";
        idsArr.push(id);
        retText += hArr[i].innerText;
        } else {
        retText += " " + hArr[i].innerText;
        }
        if (i === size-1) {
        resultArr.push(retText);
        }
        }
        console.log("SCRIPT IS RUNNING!!!!");

        return addToJson(idsArr, resultArr);
        }

        function addToJson(ids, texts) {
        if (ids===null || texts===null || ids.length!==texts.length) {
        throw new DOMException("ids size != texts size");
        }
        let objects = [];
        for (let i=0; i &lt; ids.length; i++) {
        objects.push({id: ids[i], text: texts[i]});
        }
        return objects;
        }

        function getChaptersTags() {
        return Array.prototype.slice.call(document.querySelectorAll("h1, h2, h3, .MsoTitle"));
        }

        function generateId () {
        return "_" + Math.random().toString(36).substr(2, 9);
        }

    </string>

</resources>
